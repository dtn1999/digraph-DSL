/* generated from model GraphQLLite */
/* generated by template core.Class*/

/* (c) https://github.com/MontiCore/monticore */
package graphqllite._symboltable;

/* generated by template core.Imports*/

import java.util.*;
import java.util.function.*;
import java.util.stream.Stream;
import de.se_rwth.commons.logging.Log;
import de.monticore.ast.ASTNode;
import de.monticore.ast.Comment;
import de.se_rwth.commons.SourcePosition;
import de.monticore.symboltable.*;
import de.monticore.ast.ASTCNode;


 public  class GraphQLLiteGlobalScope extends graphqllite._symboltable.GraphQLLiteScope  implements graphqllite._symboltable.IGraphQLLiteGlobalScope {

    /* generated by template core.Attribute*/
 protected  de.monticore.io.paths.MCPath symbolPath ;

    /* generated by template core.Attribute*/
 protected  String fileExt ;

    /* generated by template core.Attribute*/
 public  de.monticore.symboltable.serialization.IDeSer deSer ;

    /* generated by template core.Attribute*/
 protected  Map<String,de.monticore.symboltable.serialization.ISymbolDeSer> symbolDeSers  = com.google.common.collect.Maps.newHashMap();

    /* generated by template core.Attribute*/
 protected  GraphQLLiteSymbols2Json symbols2Json ;

    /* generated by template core.Attribute*/
 protected  Set<String> cache = new java.util.HashSet<>();

    /* generated by template core.Attribute*/
 protected  List<graphqllite._symboltable.IGQLTypeSymbolResolver> adaptedGQLTypeSymbolResolver  = new ArrayList<graphqllite._symboltable.IGQLTypeSymbolResolver>();

    /* generated by template core.Attribute*/
 protected  List<graphqllite._symboltable.ISchemaSymbolResolver> adaptedSchemaSymbolResolver  = new ArrayList<graphqllite._symboltable.ISchemaSymbolResolver>();

    /* generated by template core.Attribute*/
 protected  List<graphqllite._symboltable.ITypeSymbolResolver> adaptedTypeSymbolResolver  = new ArrayList<graphqllite._symboltable.ITypeSymbolResolver>();


    /* generated by template core.Constructor*/
 public  GraphQLLiteGlobalScope(de.monticore.io.paths.MCPath symbolPath,String fileExt)
 {
  /* generated by template _symboltable.globalscope.ConstructorGlobalScope*/

  this.symbolPath = Log.errorIfNull(symbolPath);
  this.fileExt = Log.errorIfNull(fileExt);
  init();

}

    /* generated by template core.Constructor*/
 public  GraphQLLiteGlobalScope()
 {
  /* generated by template _symboltable.globalscope.ZeroArgsConstructorGlobalScope*/

  this.symbolPath = new de.monticore.io.paths.MCPath();
  this.fileExt = ".*sym";
  init();

}


    /* generated by template core.Method*/
 public  de.monticore.io.paths.MCPath getSymbolPath ()

 {
      /* generated by template methods.Get*/

return this.symbolPath;

}

    /* generated by template core.Method*/
 public  void setSymbolPath (de.monticore.io.paths.MCPath symbolPath)

 {
      /* generated by template methods.Set*/

this.symbolPath = symbolPath;

}

    /* generated by template core.Method*/
 public  String getFileExt ()

 {
      /* generated by template methods.Get*/

return this.fileExt;

}

    /* generated by template core.Method*/
 public  void setFileExt (String fileExt)

 {
      /* generated by template methods.Set*/

this.fileExt = fileExt;

}

    /* generated by template core.Method*/
 public  de.monticore.symboltable.serialization.IDeSer getDeSer ()

 {
      /* generated by template methods.Get*/

return this.deSer;

}

    /* generated by template core.Method*/
 public  void setDeSer (de.monticore.symboltable.serialization.IDeSer deSer)

 {
      /* generated by template methods.Set*/

this.deSer = deSer;

}

    /* generated by template core.Method*/
 public  Map<String,de.monticore.symboltable.serialization.ISymbolDeSer> getSymbolDeSers ()

 {
      /* generated by template methods.Get*/

return this.symbolDeSers;

}

    /* generated by template core.Method*/
 public  void setSymbolDeSers (Map<String,de.monticore.symboltable.serialization.ISymbolDeSer> symbolDeSers)

 {
      /* generated by template methods.Set*/

this.symbolDeSers = symbolDeSers;

}

    /* generated by template core.Method*/
 public  void setSymbols2Json (GraphQLLiteSymbols2Json symbols2Json)

 {
      /* generated by template methods.Set*/

this.symbols2Json = symbols2Json;

}

    /* generated by template core.Method*/
 public  GraphQLLiteSymbols2Json getSymbols2Json ()

 {
      /* generated by template _symboltable.globalscope.GetSymbols2Json*/

  if(null == symbols2Json) {
    //initialize on demand to avoid cyclic constructor calls
    symbols2Json = new graphqllite._symboltable.GraphQLLiteSymbols2Json();
  }
 return symbols2Json;
}

    /* generated by template core.Method*/
 public  void addLoadedFile (String name)

 {
      cache.add(name);
}

    /* generated by template core.Method*/
 public  void clearLoadedFiles ()

 {
      cache.clear();
}

    /* generated by template core.Method*/
 public  boolean isFileLoaded (String name)

 {
      return cache.contains(name);
}

    /* generated by template core.Method*/
 public  void init ()

 {
      /* generated by template _symboltable.globalscope.Init*/

  deSer = new graphqllite._symboltable.GraphQLLiteDeSer();
  symbolDeSers.put("graphqllite._symboltable.SchemaSymbol", new graphqllite._symboltable.SchemaSymbolDeSer());
  symbolDeSers.put("graphqllite._symboltable.TypeSymbol", new graphqllite._symboltable.TypeSymbolDeSer());
  symbolDeSers.put("graphqllite._symboltable.GQLTypeSymbol", new graphqllite._symboltable.GQLTypeSymbolDeSer());

}

    /* generated by template core.Method*/
 public  List<graphqllite._symboltable.IGQLTypeSymbolResolver> getAdaptedGQLTypeSymbolResolverList ()

 {
      return this.adaptedGQLTypeSymbolResolver;
}

    /* generated by template core.Method*/
 public  void setAdaptedGQLTypeSymbolResolverList (List<graphqllite._symboltable.IGQLTypeSymbolResolver> adaptedGQLTypeSymbolResolver)

 {
      this.adaptedGQLTypeSymbolResolver = adaptedGQLTypeSymbolResolver;
}

    /* generated by template core.Method*/
 public  List<graphqllite._symboltable.ISchemaSymbolResolver> getAdaptedSchemaSymbolResolverList ()

 {
      return this.adaptedSchemaSymbolResolver;
}

    /* generated by template core.Method*/
 public  void setAdaptedSchemaSymbolResolverList (List<graphqllite._symboltable.ISchemaSymbolResolver> adaptedSchemaSymbolResolver)

 {
      this.adaptedSchemaSymbolResolver = adaptedSchemaSymbolResolver;
}

    /* generated by template core.Method*/
 public  List<graphqllite._symboltable.ITypeSymbolResolver> getAdaptedTypeSymbolResolverList ()

 {
      return this.adaptedTypeSymbolResolver;
}

    /* generated by template core.Method*/
 public  void setAdaptedTypeSymbolResolverList (List<graphqllite._symboltable.ITypeSymbolResolver> adaptedTypeSymbolResolver)

 {
      this.adaptedTypeSymbolResolver = adaptedTypeSymbolResolver;
}

    /* generated by template core.Method*/
 public  void loadSchema (String name)

 {
      /* generated by template _symboltable.globalscope.Load*/

  for (String modelName : calculateModelNamesForSchema(name)) {
    loadFileForModelName(modelName);
  }

}

    /* generated by template core.Method*/
 public  void loadType (String name)

 {
      /* generated by template _symboltable.globalscope.Load*/

  for (String modelName : calculateModelNamesForType(name)) {
    loadFileForModelName(modelName);
  }

}

    /* generated by template core.Method*/
 public  void loadGQLType (String name)

 {
      /* generated by template _symboltable.globalscope.Load*/

  for (String modelName : calculateModelNamesForGQLType(name)) {
    loadFileForModelName(modelName);
  }

}

    /* generated by template core.Method*/
 public  void loadFileForModelName (String modelName)

 {
      /* generated by template _symboltable.globalscope.LoadFileForModelName*/

  java.util.Optional<java.net.URL> location = getSymbolPath().find(modelName, getFileExt());
  if(location.isPresent() && !isFileLoaded(location.get().toString())){
    addLoadedFile(location.get().toString());
    IGraphQLLiteArtifactScope as = getSymbols2Json().load(location.get());
    addSubScope(as);
  }

}

    /* generated by template core.Method*/
 public  GraphQLLiteGlobalScope getRealThis ()

 {
      return this;
}

    /* generated by template core.Method*/
 public  void clear ()

 {
      /* generated by template _symboltable.globalscope.Clear*/

  clearLoadedFiles();
  getAdaptedGQLTypeSymbolResolverList().clear();
  getAdaptedSchemaSymbolResolverList().clear();
  getAdaptedTypeSymbolResolverList().clear();
  getSchemaSymbols().clear();
  getTypeSymbols().clear();
  getGQLTypeSymbols().clear();
  this.symbolPath = new de.monticore.io.paths.MCPath();
  this.subScopes.clear();
  this.symbolDeSers.clear();
  this.fileExt = ".*sym";
  init();

}

    /* generated by template core.Method*/
 public  void putSchemaSymbolDeSer (String kind)

 {
      putSymbolDeSer(kind, new graphqllite._symboltable.SchemaSymbolDeSer());
}

    /* generated by template core.Method*/
 public  void putTypeSymbolDeSer (String kind)

 {
      putSymbolDeSer(kind, new graphqllite._symboltable.TypeSymbolDeSer());
}

    /* generated by template core.Method*/
 public  void putGQLTypeSymbolDeSer (String kind)

 {
      putSymbolDeSer(kind, new graphqllite._symboltable.GQLTypeSymbolDeSer());
}

}
